---
const { pathname } = Astro.url;
const currentPath = pathname.replace(/\/$/, "") || "/";

const navItems = [
  { href: "/", icon: "grid_view" },
  { href: "/exercises", icon: "fitness_center" },
  { href: "/todo", icon: "checklist" },
  { href: "/log", icon: "history" },
];
---

<aside
  class="fixed bottom-0 left-0 w-full h-20 md:top-0 md:h-screen md:w-20 bg-gray-950 border-t md:border-t-0 md:border-r border-gray-900 flex flex-row md:flex-col items-center justify-around md:justify-start py-2 md:py-8 z-50"
>
  <nav
    class="flex flex-row md:flex-col gap-2 md:gap-8 w-full md:w-auto justify-around md:justify-start px-4 md:px-0"
  >
    {
      navItems.map((item) => {
        const isActive = currentPath === item.href;
        return (
          <a
            href={item.href}
            class={`flex items-center justify-center p-4 md:p-3 rounded-2xl transition-all ${
              isActive
                ? "bg-accent/10 text-accent shadow-[0_0_20px_rgba(var(--accent-rgb),0.1)]"
                : "text-gray-500 hover:text-gray-300"
            }`}
          >
            <span
              class="material-symbols-rounded text-2xl"
              style={isActive ? "font-variation-settings: 'FILL' 1" : ""}
            >
              {item.icon}
            </span>
          </a>
        );
      })
    }

    <a
      href="/settings"
      class="md:hidden flex items-center justify-center p-4 text-gray-500"
    >
      <span class="material-symbols-rounded text-2xl">settings</span>
    </a>
  </nav>

  <div class="hidden md:flex mt-auto">
    <a
      href="/settings"
      class={`p-3 rounded-2xl transition-all ${currentPath === "/settings" ? "text-accent" : "text-gray-600 hover:text-gray-300"}`}
    >
      <span class="material-symbols-rounded text-2xl">settings</span>
    </a>
  </div>
</aside>
